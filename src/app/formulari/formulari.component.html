<div class="container" #container role="main">
  <div class="forms-container">
    <div class="signin-signup">

      <!-- Sign In Form -->
      <form [formGroup]="loginForm" (ngSubmit)="handleSignIn()" class="sign-in-form" aria-labelledby="signin-title">
        <h2 class="title" id="signin-title">Accede a la Galaxia</h2>
        <div class="input-field-2">
          <label for="signin-email" class="visually-hidden">Email</label>
          <input type="email" 
                 id="signin-email"
                 formControlName="email"
                 placeholder="Email"
                 aria-required="true" />
        </div>
        
        <div class="input-field-2">
          <label for="signin-password" class="visually-hidden">Contraseña</label>
          <input type="password"
                 id="signin-password"
                 formControlName="password"
                 placeholder="Contraseña"
                 aria-required="true" />
        </div>

        <button type="submit" 
                class="btn-login solid"
                [disabled]="!loginForm.valid"
                aria-label="Iniciar sesion"> 
          Unirse a la Fuerza
        </button>
      </form>

      <!-- Sign Up Form -->
      <form action="#" class="sign-up-form" (ngSubmit)="onSubmit()">
        <h2 class="title" id="signup-title">Únete a la Rebelión</h2>
        <div class="input-field" [class.input-error]="model.errors.username">
          <label for="signup-username" class="visually-hidden">Usuari</label>
          <input type="text"
                 id="signup-username"
                 name="username"
                 [(ngModel)]="model.username"
                 (ngModelChange)="model.setUsername($event)"
                 required
                 placeholder="Usuari">
          <div *ngIf="model.errors.username" class="error-message">
            El nom d'usuari és obligatori
          </div>
        </div>
        
        <div class="input-field" [class.input-error]="model.errors.email">
          <label for="signup-email" class="visually-hidden">Email</label>
          <input type="email"
                 id="signup-email"
                 name="email"
                 [(ngModel)]="model.email"
                 (ngModelChange)="model.setEmail($event)"
                 required
                 email
                 placeholder="Email">
          <div *ngIf="model.errors.email" class="error-message">
            L'email és obligatori i ha de ser vàlid
          </div>
        </div>
        
        <div class="input-field" [class.input-error]="model.errors.password || model.errors.passwordRegex">
          <label for="signup-password" class="visually-hidden">Contrasenya</label>
          <input type="password"
                 id="signup-password"
                 name="password"
                 [(ngModel)]="model.password"
                 (ngModelChange)="model.setPassword($event)"
                 required
                 placeholder="Contrasenya">
          <div *ngIf="model.errors.password" class="error-message">
            La contrasenya és obligatòria
          </div>
          <div *ngIf="model.errors.passwordRegex" class="error-message">
            La contrasenya ha de tenir mínim 6 caràcters i un símbol especial
          </div>
        </div>
        
        <div class="input-field" [class.input-error]="model.errors.confirmPassword">
          <label for="signup-confirm-password" class="visually-hidden">Confirmació Contrasenya</label>
          <input type="password"
                 id="signup-confirm-password"
                 name="confirmPassword"
                 [(ngModel)]="model.confirmPassword"
                 (ngModelChange)="model.setConfirmPassword($event)"
                 required
                 placeholder="Confirma la contrasenya">
          <div *ngIf="model.errors.confirmPassword" class="error-message">
            Les contrasenyes no coincideixen
          </div>
        </div>
        
        <button type="submit" 
                class="btn-login" 
                [disabled]="model.errors.username || model.errors.email || model.errors.password || model.errors.confirmPassword">
          Comenzar el Entrenamiento
        </button>
      </form>
    </div>
  </div>

  <div class="panels-container">
    <!-- Left Panel -->
    <div class="panel left-panel" role="complementary">
      <div class="content">
        <h1 class="service-title">Star Wars: The Force Runner</h1>
        <br>
        <p>¡Que la Fuerza te acompañe en esta aventura!</p>
        <br>
        <button class="btn transparent" 
                id="sign-up-btn" 
                #signUpBtn
                aria-label="Canviar a formulari de registre">
          Unirse a la Rebelión
        </button>
      </div>
    </div>

    <!-- Right Panel -->
    <div class="panel right-panel" role="complementary">
      <div class="content">
        <h1>Star Wars: The Force Runner</h1>
        <br>
        <p>Tu viaje por la galaxia está a punto de comenzar</p>
        <br>
        <button class="btn transparent" 
                id="sign-in-btn" 
                #signInBtn
                aria-label="Canviar a formulari d'inici de sessió">
          Acceder a la Galaxia
        </button> 
      </div>
    </div>
  </div>
</div>