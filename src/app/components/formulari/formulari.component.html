<div class="container" #container role="main">
  <div class="forms-container">
    <div class="signin-signup">

      <!-- Sign In Form -->
      <form (ngSubmit)="handleSignIn()" class="sign-in-form">
        <h2 class="title" id="signin-title">Accede a la Galaxia</h2>
        <div class="input-field-2">
          <label for="signin-email" class="visually-hidden">Email</label>
          <input type="email" 
                 id="signin-email"
                 [(ngModel)]="loginCredentials.email"
                 name="email"
                 placeholder="Email"
                 aria-required="true" />
        </div>
        
        <div class="input-field-2">
          <label for="signin-password" class="visually-hidden">Contraseña</label>
          <input type="password"
                 id="signin-password"
                 [(ngModel)]="loginCredentials.password"
                 name="password"
                 placeholder="Contraseña"
                 aria-required="true" />
        </div>

        <button type="submit" 
                class="btn-login solid"
                [disabled]="!loginCredentials.validate().isValid"
                aria-label="Iniciar sesion"> 
          Unirse a la Fuerza
        </button>
      </form>

      <!-- Sign Up Form -->
      <form (ngSubmit)="onSubmit()" class="sign-up-form">
        <h2 class="title" id="signup-title">Únete a la Rebelión</h2>
        
        <div class="input-field">
          <input type="text"
                 id="signup-username"
                 name="username"
                 [(ngModel)]="registerUser.username"
                 required
                 placeholder="Usuari">
          <div *ngIf="showRegisterErrors && !registerUser.username" class="error-message">
            El nom d'usuari és obligatori
          </div>
        </div>
        
        <div class="input-field">
          <input type="email"
                 id="signup-email"
                 name="email"
                 [(ngModel)]="registerUser.email"
                 required
                 email
                 placeholder="Email">
          <div *ngIf="showRegisterErrors && !registerUser.email" class="error-message">
            L'email és obligatori i ha de ser vàlid
          </div>
        </div>
        
        <div class="input-field">
          <input type="password"
                 id="signup-password"
                 name="password"
                 [(ngModel)]="registerUser.password"
                 required
                 placeholder="Contrasenya">
          <div *ngIf="showRegisterErrors && !registerUser.password" class="error-message">
            La contrasenya és obligatòria
          </div>
          <div *ngIf="showRegisterErrors && registerUser.password && !registerUser.passwordValidator()" class="error-message">
            La contrasenya ha de tenir mínim 6 caràcters i un símbol especial
          </div>
        </div>
        
        <div class="input-field">
          <input type="password"
                 id="signup-confirm-password"
                 name="confirmPassword"
                 [(ngModel)]="registerUser.confirmPassword"
                 required
                 placeholder="Confirma la contrasenya">
          <div *ngIf="showRegisterErrors && !registerUser.confirmPassword" class="error-message">
            La confirmació de contrasenya és obligatòria
          </div>
          <div *ngIf="showRegisterErrors && registerUser.confirmPassword && !registerUser.passwordMatch()" class="error-message">
            Les contrasenyes no coincideixen
          </div>
        </div>
        
        <button type="submit" class="btn-login">
          Comenzar el Entrenamiento
        </button>
      </form>
    </div>
  </div>

  <div class="panels-container">
    <!-- Left Panel -->
    <div class="panel left-panel" role="complementary">
      <div class="content">
        <h1 class="service-title">Star Wars: The Force Runner</h1>
        <br>
        <p>¡Que la Fuerza te acompañe en esta aventura!</p>
        <br>
        <button class="btn transparent" 
                id="sign-up-btn" 
                #signUpBtn
                aria-label="Canviar a formulari de registre">
          Unirse a la Rebelión
        </button>
      </div>
    </div>

    <!-- Right Panel -->
    <div class="panel right-panel" role="complementary">
      <div class="content">
        <h1>Star Wars: The Force Runner</h1>
        <br>
        <p>Tu viaje por la galaxia está a punto de comenzar</p>
        <br>
        <button class="btn transparent" 
                id="sign-in-btn" 
                #signInBtn
                aria-label="Canviar a formulari d'inici de sessió">
          Acceder a la Galaxia
        </button> 
      </div>
    </div>
  </div>

  <!-- Popup de éxito -->
  <div *ngIf="showSuccessPopup" class="success-popup">
    Registre completat amb èxit!
  </div>

  <!-- Mensajes de error para login -->
  <div *ngIf="showLoginErrors && loginCredentials.validate().errors.email" class="error-message">
    L'email és obligatori
  </div>

  <div *ngIf="showLoginErrors && loginCredentials.validate().errors.password" class="error-message">
    La contrasenya és obligatòria
  </div>
</div>